# 异步队列

## 如何使用Redis做异步队列

使用List作为队列，RPUSH生产消息，LPOP消费消息
- 缺点：没有等待队列里有值就直接消费
- 弥补：可以通过在应用层引入sleep机制去调用LPOP重试

BLPOP key [key...] timeout : 阻塞直到队列有消息或者超时
- 缺点：只能供一个消费者消费

bloop能替代sleep做精准的阻塞控制

pub/sub：主题订阅者模式
- 发送者（pub）发送消息，订阅者（sub）接收消息
- 订阅者可以订阅任意数量的频道
- 缺点：消息的发布是无状态的，无法保证可达



